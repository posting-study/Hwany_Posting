# ì™„ë²½í•œ ìº¡ìŠí™”
ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ëŠ” ìº¡ìŠí™”ë¥¼ ìì²´ì ìœ¼ë¡œ ì§€ì›í•˜ëŠ” ë¬¸ë²•ì´ ì•„ì§ ì—†ë‹¤.ğŸ¤¦â€â™‚ï¸

(ì´ë¦„ë§Œ ë¹„ìŠ·í•œ JavaëŠ” privateì´ë¼ëŠ” í‚¤ì›Œë“œë¡œ ìº¡ìŠí™”ë¥¼ ìì²´ì ìœ¼ë¡œ ì§€ì›í•œë‹¤.)

í•˜ì§€ë§Œ JavaScriptì—ì„œë„ ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ ìš°íšŒí•´ì„œ ì™„ë²½í•œ ìº¡ìŠí™”ë¥¼ í•  ìˆ˜ëŠ” ìˆëŠ”ë°, **`í´ë¡œì €(Closure)`**ë¼ê³  í•˜ëŠ” ê°œë…ì„ ì‘ìš©í•´ì„œ ì ìš©í•˜ë©´ ëœë‹¤.

```js
function createUser(email, birthdate) {
  let _email = email;

  const user = {
    birthdate,

    get email() {
      return _email;
    },

    set email(address) {
      if (address.includes('@')) {
        _email = address;
      } else {
        throw new Error('invalid email address');
      }
    },
  };

  return user;
}

const user1 = createUser('chris123@google.com', '19920321');
console.log(user1.email);

```
- createUser íŒ©í† ë¦¬í•¨ìˆ˜ ì•ˆì—, 
* user ê°ì²´ ë°”ê¹¥ì— _**email**ì´ë¼ëŠ” ë³€ìˆ˜ê°€ ìˆë‹¤.

ëŒ€ì‹ ì— user ê°ì²´ ì•ˆì—ëŠ” **_email ë³€ìˆ˜ì˜ ê°’ì„ ì½ê³  ì“¸ ìˆ˜ ìˆëŠ” emailì´ë¼ëŠ” getter/setter ë©”ì†Œë“œ**ê°€ ìˆë‹¤.

ì§€ê¸ˆ ë§ˆì§€ë§‰ ë¶€ë¶„ì—ì„œ createUserë¼ëŠ” Factory functionìœ¼ë¡œ user1ì´ë¼ëŠ” ê°ì²´ë¥¼ ìƒì„±í•˜ê³ , user1 ê°ì²´ì˜ email getter ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ë©´ ë³€ìˆ˜ì˜ ê°’ì´ ì˜ ì¶œë ¥ëœë‹¤.

**í•¨ìˆ˜ ì•ˆì˜ ë³€ìˆ˜ì˜ ê°’ì„ ì´ë¯¸ ë¦¬í„´ëœ ê°ì²´ì—ì„œ ì½ì€ ê²ƒ!**

ì´ëŸ¬í•œ ê²°ê³¼ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ í´ë¡œì €(Closure)ë¼ê³  í•˜ëŠ” ê²ƒ ë•ë¶„ì— ê°€ëŠ¥í•˜ë‹¤!

### í´ë¡œì €ğŸ“‚
ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ **ì–´ë–¤ í•¨ìˆ˜ì™€ ê·¸ í•¨ìˆ˜ê°€ ì°¸ì¡°í•  ìˆ˜ ìˆëŠ” ê°’ë“¤ë¡œ ì´ë£¨ì–´ì§„ í™˜ê²½**ì„ í•˜ë‚˜ë¡œ ë¬¶ì€ ê²ƒì„ ì˜ë¯¸í•˜ëŠ” ê²ƒì´ë‹¤. 

ì˜ˆë¥¼ ë“¤ì–´, 
1. createUser í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ëŠ” ì‹œì 
- emailì´ë¼ëŠ” getter/setter ë©”ì†Œë“œëŠ” _email ì´ë¼ëŠ” ë³€ìˆ˜ì˜ ê°’ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ìƒíƒœ. 

2. ë¦¬í„´ëœ ì´í›„
- email getter/setter ë©”ì†Œë“œë“¤ì€ ë©”ì†Œë“œë¥¼ ê°–ê³  ìˆëŠ” ê°ì²´ê°€ ë¦¬í„´ëœ ì´í›„ë”ë¼ë„ ì—¬ì „íˆ _emailì— ì ‘ê·¼í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ë‹¤.

ì´ë ‡ê²Œ **í•¨ìˆ˜ê°€ ì •ì˜ëœ ë‹¹ì‹œì— ì°¸ì¡°í•  ìˆ˜ ìˆì—ˆë˜ ë³€ìˆ˜ë“¤ì„ ê³„ì† ì°¸ì¡°í•  ìˆ˜ ìˆëŠ” ìƒíƒœì˜ í•¨ìˆ˜**ë¥¼ **`í´ë¡œì €`** ë¼ê³  í•œë‹¤.

ë§Œì•½ í´ë¡œì €ê°€ ì•„ë‹Œ ê²½ìš°ì—ëŠ” _email ë³€ìˆ˜ì— ì ‘ê·¼í•  ìˆ˜ ì—†ë‹¤.

```js
function createUser(email, birthdate) {
  let _email = email;

  const user = {
    birthdate,

    get email() {
      return _email;
    },

    set email(address) {
      if (address.includes('@')) {
        _email = address;
      } else {
        throw new Error('invalid email address');
      }
    },
  };

  return user;
}

const user1 = createUser('chris123@google.com', '19920321');
console.log(user1._email); // _ ì¶”ê°€
```

user1 ê°ì²´ì˜ _email í”„ë¡œí¼í‹°ì— ì ‘ê·¼í•˜ë ¤ê³  í•˜ë©´, user1 ê°ì²´ ìì²´ ë‚´ì—ëŠ” _emailì´ë¼ê³  í•˜ëŠ” í”„ë¡œí¼í‹°ê°€ ì—†ê³ , ë°”ê¹¥ì˜ _email ë³€ìˆ˜ì— í˜„ì¬ ì ‘ê·¼í•  ìˆ˜ë„ ì—†ê¸° ë•Œë¬¸ì— undefinedê°€ ì¶œë ¥ëœë‹¤.

### ë©”ì†Œë“œ ìº¡ìŠí™”ğŸ§«
```js
function createUser(email, birthdate) {
  const _email = email;
  let _point = 0;

  function increasePoint() {
    _point += 1;
  }

  const user = {
    birthdate,

    get email() {
      return _email;
    },

    get point() {
      return _point;
    },

    buy(item) {
      console.log(`${this.email} buys ${item.name}`);
      increasePoint();
    },
  };

  return user;
}

const item = {
  name: 'ìŠ¤ì›¨í„°',
  price: 30000,
};

const user1 = createUser('chris123@google.com', '19920321');
user1.buy(item);
user1.buy(item);
user1.buy(item);
console.log(user1.point);

```
**`_point`**ë¼ëŠ” ë³€ìˆ˜ë¥¼ ì¶”ê°€í•˜ê³ , **`point getter`** ë©”ì†Œë“œë„ ì •ì˜í–ˆë‹¤. 
_point ë³€ìˆ˜ë¥¼ 1ì”© ëŠ˜ë ¤ì£¼ëŠ” í•¨ìˆ˜ëŠ” ë°”ë¡œ ë°‘ì— ìˆëŠ” **`increasePoint`** ë¼ëŠ” í•¨ìˆ˜.

**`increasePoint`** ë¼ëŠ” í•¨ìˆ˜ëŠ” buy ë©”ì†Œë“œ ì•ˆì—ì„œ í˜¸ì¶œëœë‹¤.

ìŠ¤ì›¨í„°ë¥¼ 3ë²ˆ êµ¬ë§¤í–ˆì„ ë•Œ, í¬ì¸íŠ¸ëŠ” ì´ 3ì ì´ ìŒ“ì´ê²Œ ëœë‹¤.

ì¤‘ìš”í•œ ì ì€ **increasePointë¼ëŠ” í•¨ìˆ˜ê°€ ë³´í˜¸ë°›ê³  ìˆëŠ” í•¨ìˆ˜**ë¼ëŠ” ì ! 

ì§€ê¸ˆ user1 ê°ì²´ë¡œ ë°”ë¡œ increasePoint í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ìˆ˜ëŠ” ì—†ë‹¤. 

í˜¸ì¶œì‹œë„ì‹œì—,
```js
user1.increasePoint(); // user1 ê°ì²´ë¡œ increasePoint ì§ì ‘ í˜¸ì¶œ
```
ê·¸ëŸ° í•¨ìˆ˜ê°€ ì—†ë‹¤ëŠ” ì—ëŸ¬ê°€ ì¶œë ¥ëœë‹¤. 

ì™œëƒí•˜ë©´ user1 ê°ì²´ì—ëŠ” increasePointë¼ëŠ” ë©”ì†Œë“œê°€ ì—†ê¸° ë•Œë¬¸! 
